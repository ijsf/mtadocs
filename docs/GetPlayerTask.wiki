
{{Client function}}
{{Deprecated|getPedTask}}

This function is used to get the name of the current task of a certain type for a player.

==Syntax==
<syntaxhighlight lang="lua">
string getPlayerTask ( player thePlayer, string priority, int taskType, [int index = 0] )
</syntaxhighlight>

===Required Arguments===
*'''thePlayer''': The [[/player.md|player]] whose task you want to retrieve.
*'''priority''': A string determining which set of tasks you want to retrieve it from. This must be either "primary" or "secondary".
*'''taskType''': An integer value representing the task type (or slot) you want to get the task from. Types can be:
**'''PRIMARY TASKS'''
***'''0:''' TASK_PHYSICAL_RESPONSE
***'''1:''' TASK_EVENT_RESPONSE_TEMP
***'''2:''' TASK_EVENT_RESPONSE_NONTEMP
***'''3:''' TASK_PRIMARY
***'''4:''' TASK_DEFAULT
**'''SECONDARY TASKS'''
***'''0:''' TASK_SECONDARY_ATTACK
***'''1:''' TASK_SECONDARY_DUCK
***'''2:''' TASK_SECONDARY_SAY
***'''3:''' TASK_SECONDARY_FACIAL_COMPLEX
***'''4:''' TASK_SECONDARY_PARTIAL_ANIM
***'''5:''' TASK_SECONDARY_IK

===Optional Arguments===
*'''index''': An integer value representing how many sub tasks to go through. -1 to get the simplest task, 0 to get the most complex task.

===Returns===
Returns a string containing the name of a task. See [[/list of player tasks.md|list of player tasks]] for valid strings. Returns ''false'' if invalid arguments are specified or if there is no task of the type or index specified.

==Example==
<section name="Client" class="client" show="true">
This example prints the name of a player's task to the chat when they use the "task" command in the console.
<syntaxhighlight lang="lua">
function myTask ( commandName, priority, taskType )
    task = getPlayerTask ( source, priority, tonumber(taskType) )
    taskName = "none"
    if ( task ) then
        taskName = task
    end
    outputChatBox ( getPlayerName( source ) .. "'s " .. priority .. "(" .. taskType .. ") task is: " .. taskName )
end    
addCommandHandler ( "task", myTask )
</syntaxhighlight>
</section>

==See Also==
{{Player functions}}