<pageclass class="#AA7592" subcaption="MTA-MySQL Module"></pageclass>

{{ModuleFunction|MTA-MySQL}}
Changes the character set used for the current MySQL session.

==Syntax==
<syntaxhighlight lang="lua">
bool mysql_set_character_set ( MySQLConnection handler, string charset_name )
</syntaxhighlight>
===Required arguments===
* '''handler:''' A valid MySQL link
* '''charset_name:''' The new character set name

===Returns===
It it succeeds returns true, in other case returns false.

==Example==
'''Example 1:'''
<syntaxhighlight lang="lua">
handler = mysql_connect("localhost", "user", "password", "mta_users")
if (not handler) then
  outputDebugString("Unable to connect to the MySQL server")
elseif (not mysql_set_character_set(handler, "utf8")) then -- Change the charset to UTF-8
  outputDebugString("Unable to change the connection character set to utf8: ("
                    .. mysql_errno(handler) .. ")" .. mysql_error(handler))
  mysql_close(handler) -- Close the connection afther the error
end
</syntaxhighlight>

==See also==
{{Modules/MTA-MySQL/Handler_functions}}