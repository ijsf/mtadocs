
Many languages can make HTTP POST requests with JSON, C# can do too. This is C# SDK for MTA. It allows you to call any HTTP exported functions from resources. The SDK itself is very basic and easy to use. It was mainly created to extend [[/MTASE.md|MTA:Script Editor]] functionality. Feel free to modify it however you like but don't remove original author. If you want your changes to be published, please speak to [[/User:50p.md|50p]] on MTA forums [http://forum.multitheftauto.com/memberlist.php?mode=viewprofile&u=19953 HERE]


==How to==
First of all, you have to include your files in your project. Once you've done this, you are ready to use SDK.

1. Add MTA_SDK.cs and MTA_LuaArgs.cs to your project file and import the SDK namespace in your file:

<code>using MTA_SDK;</syntaxhighlight>


2. Create instance of MTA class:

<code>MTA server = new MTA();	//-- default params (for IP and port, respectively) are: "localhost" and 22005</syntaxhighlight>

'''OR'''
<code>//-- if you don't want to make a call to your local server then you can connect to remote server with the following parameters:
MTA server = new MTA( "IP", port );</syntaxhighlight>

'''OR'''

<code>//-- if you get errors about authorization then you should use the account you created on your server 
//-- (the account that is allowed to visit HTTP sites of your server, preferably admin):
MTA server = new MTA( "IP", port, "username", "password" );</syntaxhighlight>


3. Create instance of MTA_LuaArgs class to create list of arguments that is passed to the function call:

<code>MTA_LuaArgs luaArgs = new MTA_LuaArgs( );
luaArgs.AddValue( "hello" );
luaArgs.AddValue( "world" );</syntaxhighlight>

'''OR'''

<code>MTA_LuaArgs luaArgs = new MTA_LuaArgs( "hello", "world" );</syntaxhighlight>


4. Call function exported from resource (in meta.xml: <export function="functionName" http="true" />, REMEMBER! http attribute has to be true!):

<code>string returned = server.CallFunction( "sampleResource", "functionName", luaArgs );</syntaxhighlight>


And here is the sample Lua function (functionName) that we're trying to call:

<syntaxhighlight lang="lua">
function functionName( param1, param2 )
	outputChatBox( "Function called from SDK with args: " .. param1 .. ", " .. param2 );
	return true;
end
</syntaxhighlight>

==Download==
You can download C# MTA SDK here:
*[https://drive.google.com/file/d/0B4oc9Fbk4CkUelRrQWVqdmZ3ZDg/view?usp=sharing C# MTA SDK 1.0]

==Contact==
If you have any questions/suggestions you can contact author on MTA forum or IRC '''#mta''' and '''#mtatools''' channels hosted on GTANet.com server.
*[http://forum.multitheftauto.com/memberlist.php?mode=viewprofile&u=19953 50p]